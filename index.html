<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>All my love, Pnoelle</title>
<style>
body {
font-family: Century Gothic, sans-serif;
text-align: center;
background: url('https://picsum.photos/1200/800?random=1') no-repeat center center fixed;
background-size: cover;
color: #fff;
}
#login, #journal {
margin-top: 40px;
}
textarea {
width: 80%;
height: 150px;
margin: 10px 0;
}
button, input {
padding: 8px 15px;
margin: 5px;
cursor: pointer;
}
input[type="file"] {
margin: 10px 0;
}
.hidden {
display: none;
}
#entries {
margin-top: 30px;
text-align: left;
width: 80%;
margin-left: auto;
margin-right: auto;
background: rgba(0,0,0,0.6);
padding: 15px;
border-radius: 10px;
max-height: 500px;
overflow-y: auto;
}
.entry {
padding: 12px;
border-bottom: 1px solid rgba(255,255,255,0.3);
}
.entry img, .entry video {
max-width: 100%;
margin-top: 10px;
border-radius: 8px;
}
.entry button {
margin-top: 8px;
margin-right: 5px;
padding: 5px 10px;
font-size: 12px;
}
</style>
</head>
<body>
<h1 id="siteTitle">All my love, Pnoelle</h1>

<!-- Login -->
<div id="login">
<p>Password is your ig username</p>
<input type="password" id="password">
<button onclick="checkPassword()">Login</button>
</div>

<!-- Journal Section -->
<div id="journal" class="hidden">
<!-- Customisation Options (only for author) -->
<div id="customOptions" class="hidden">
<h2>Customisation</h2>
<label>Change Journal Title: </label>
<input type="text" id="titleInput" placeholder="Enter new title">
<button onclick="changeTitle()">Update</button><br>

<label>Upload Background Image: </label>
<input type="file" id="bgInput" accept="image/*"><br>

<label>Upload Background Music (MP3): </label>
<input type="file" id="musicInput" accept="audio/mpeg"><br>
</div>

<!-- Post Section (only for author) -->
<div id="postSection" class="hidden">
<h2>Write a New Entry</h2>
<textarea id="entryText" placeholder="Write your thoughts..."></textarea><br>
<input type="file" id="mediaInput" accept="image/*,video/*" multiple><br>
<button onclick="saveEntry()">Save Entry</button>
</div>

<!-- Entries (everyone can see) -->
<div id="entries"></div>
</div>

<!-- Background Music -->
<audio id="bgMusic" autoplay loop></audio>
<source srrc="https://drive.google.com/drive/folders/1eT59nqiCJavYZpupqbruCehHf9VhRZ0-" type="audio/mpeg">
</audio>

  <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDW4gGoDqKjkeQHLYcWFoMCWWRby1pEQJM",
    authDomain: "allmylovethroughwords.firebaseapp.com",
    projectId: "allmylovethroughwords",
    storageBucket: "allmylovethroughwords.firebasestorage.app",
    messagingSenderId: "875011434235",
    appId: "1:875011434235:web:c265458cf8b0f55127725e",
    measurementId: "G-4D7EXQQFHZ"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
  
<script>
// Passwords
const authorPassword = "pnoelle2696";
const viewerPassword = "gabk.69";

// Elements
const loginDiv = document.getElementById("login");
const journalDiv = document.getElementById("journal");
const postSection = document.getElementById("postSection");
const customOptions = document.getElementById("customOptions");
const entriesDiv = document.getElementById("entries");
const entryText = document.getElementById("entryText");
const mediaInput = document.getElementById("mediaInput");
const siteTitle = document.getElementById("siteTitle");
const bgInput = document.getElementById("bgInput");
const musicInput = document.getElementById("musicInput");
const bgMusic = document.getElementById("bgMusic");

let role = null; // "author" or "viewer"

// Password login
function checkPassword() {
const input = document.getElementById("password").value;
if (input === authorPassword) {
role = "author";
showJournal(true);
} else if (input === viewerPassword) {
role = "viewer";
showJournal(false);
} else {
alert("Wrong password!");
}
}

// Show journal
function showJournal(isAuthor) {
loginDiv.classList.add("hidden");
journalDiv.classList.remove("hidden");
if (isAuthor) {
postSection.classList.remove("hidden");
customOptions.classList.remove("hidden");
}
loadEntries();
loadSettings();
}

// Save entry
function saveEntry() {
let entry = {
id: Date.now(), // unique ID
text: entryText.value,
date: new Date().toLocaleString(),
media: []
};

const files = mediaInput.files;
if (files.length > 0) {
const promises = [];
for (let file of files) {
promises.push(new Promise((resolve) => {
const reader = new FileReader();
reader.onload = () => resolve({ type: file.type, data: reader.result });
reader.readAsDataURL(file);
}));
}
Promise.all(promises).then(mediaFiles => {
entry.media = mediaFiles;
saveToStorage(entry);
});
} else {
saveToStorage(entry);
}
}

// Save entry to storage
function saveToStorage(entry) {
let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
entries.unshift(entry);
localStorage.setItem("journalEntries", JSON.stringify(entries));
displayEntries(entries);
entryText.value = "";
mediaInput.value = "";
}

// Load entries
function loadEntries() {
let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
displayEntries(entries);
}

// Display entries
function displayEntries(entries) {
entriesDiv.innerHTML = "";
entries.forEach(entry => {
const div = document.createElement("div");
div.className = "entry";
div.innerHTML = `<strong>${entry.date}</strong><br>${entry.text}`;

if (entry.media && entry.media.length > 0) {
entry.media.forEach(m => {
if (m.type.startsWith("image/")) {
const img = document.createElement("img");
img.src = m.data;
div.appendChild(img);
} else if (m.type.startsWith("video/")) {
const video = document.createElement("video");
video.src = m.data;
video.controls = true;
div.appendChild(video);
}
});
}

// Author-only edit/delete buttons
if (role === "author") {
const editBtn = document.createElement("button");
editBtn.textContent = "Edit";
editBtn.onclick = () => editEntry(entry.id);

const deleteBtn = document.createElement("button");
deleteBtn.textContent = "Delete";
deleteBtn.onclick = () => deleteEntry(entry.id);

div.appendChild(document.createElement("br"));
div.appendChild(editBtn);
div.appendChild(deleteBtn);
}

entriesDiv.appendChild(div);
});
}

// Edit entry
function editEntry(id) {
let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
let entry = entries.find(e => e.id === id);
if (entry) {
const newText = prompt("Edit your entry:", entry.text);
if (newText !== null) {
entry.text = newText;
localStorage.setItem("journalEntries", JSON.stringify(entries));
displayEntries(entries);
}
}
}

// Delete entry
function deleteEntry(id) {
if (confirm("Are you sure you want to delete this entry?")) {
let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
entries = entries.filter(e => e.id !== id);
localStorage.setItem("journalEntries", JSON.stringify(entries));
displayEntries(entries);
}
}

// Customisation: Change title
function changeTitle() {
const newTitle = document.getElementById("titleInput").value;
if (newTitle.trim() !== "") {
siteTitle.textContent = newTitle;
localStorage.setItem("journalTitle", newTitle);
document.getElementById("titleInput").value = "";
}
}

// Customisation: Background image
bgInput.addEventListener("change", function() {
const file = bgInput.files[0];
if (file) {
const reader = new FileReader();
reader.onload = () => {
document.body.style.background = `url('${reader.result}') no-repeat center center fixed`;
document.body.style.backgroundSize = "cover";
localStorage.setItem("journalBackground", reader.result);
};
reader.readAsDataURL(file);
}
});

// Customisation: Background music
musicInput.addEventListener("change", function() {
const file = musicInput.files[0];
if (file) {
const reader = new FileReader();
reader.onload = () => {
bgMusic.src = reader.result;
bgMusic.play();
localStorage.setItem("journalMusic", reader.result);
};
reader.readAsDataURL(file);
}
});

// Load custom settings
function loadSettings() {
const savedTitle = localStorage.getItem("journalTitle");
const savedBackground = localStorage.getItem("journalBackground");
const savedMusic = localStorage.getItem("journalMusic");

if (savedTitle) siteTitle.textContent = savedTitle;
if (savedBackground) {
document.body.style.background = `url('${savedBackground}') no-repeat center center fixed`;
document.body.style.backgroundSize = "cover";
}
if (savedMusic) {
bgMusic.src = savedMusic;
bgMusic.play();
}
}
</script>
</body>

</html>




